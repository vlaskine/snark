SET( dir ${SOURCE_CODE_BASE_DIR}/graphics/applications )

SET( view_points view-points )
SET( label_points label-points )

# This gets rid of an annoying conflict between windows macros and std::numeric_limits::max and min
IF(WIN32)
  ADD_DEFINITIONS(-DNOMINMAX)
ENDIF(WIN32)

QT4_ADD_RESOURCES( resources label-points.qrc )
QT4_WRAP_CPP( label_pointsMoc label_points/MainWindow.h label_points/Actions.h label_points/Viewer.h label_points/Tools.h label_points/IdEdit.h OPTIONS -DBOOST_TT_HAS_OPERATOR_HPP_INCLUDED )
SOURCE_GROUP( "label_pointsQtAutoGenerated" FILES ${label_pointsMoc} )
FILE( GLOB source ${dir}/label_points/*.cpp ${dir}/view_points/VertexBuffer.cpp )
FILE( GLOB include ${dir}/label_points/*.h)
ADD_EXECUTABLE( ${label_points} label-points.cpp ${label_pointsMoc} ${resources} ${source} ${include} )
SOURCE_GROUP( "label-points" FILES label-points.cpp ${source} ${include} )
TARGET_LINK_LIBRARIES( ${label_points} snark_graphics_qt3d ${comma_ALL_LIBRARIES} ${Qt3D_LIB} ${OPENGL_LIBRARY} )

QT4_WRAP_CPP( view_pointsMoc view_points/MainWindow.h view_points/Viewer.h view_points/Action.h OPTIONS -DBOOST_TT_HAS_OPERATOR_HPP_INCLUDED )
SOURCE_GROUP( "view_pointsQtAutoGenerated" FILES ${view_pointsMoc} )
FILE( GLOB source ${dir}/view_points/*.cpp )
FILE( GLOB include ${dir}/view_points/*.h )
SOURCE_GROUP( "view_points" FILES view-points.cpp ${source} ${include} )
ADD_EXECUTABLE( ${view_points} view-points.cpp  ${source} ${include} ${view_pointsMoc} )
TARGET_LINK_LIBRARIES( ${view_points} ${QT_LIBRARIES} ${Qt3D_LIB} snark_graphics_qt3d ${comma_ALL_LIBRARIES} ${OPENGL_LIBRARY} ) #profiler )

INSTALL( TARGETS ${view_points} ${label_points}
        RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX}/${snark_INSTALL_BIN_DIR}
        COMPONENT Runtime )

